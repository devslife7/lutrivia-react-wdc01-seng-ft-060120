{"ast":null,"code":"var NodeRegistry = function NodeRegistry() {\n  var _this = this;\n\n  this.add = function (nodeRef, component) {\n    if (_this.nodes.has(nodeRef)) {\n      var set = _this.nodes.get(nodeRef);\n\n      set.add(component);\n      return;\n    }\n\n    _this.nodes.set(nodeRef, new Set([component]));\n  };\n\n  this.del = function (nodeRef, component) {\n    if (!_this.nodes.has(nodeRef)) return;\n\n    var set = _this.nodes.get(nodeRef);\n\n    if (set.size === 1) {\n      _this.nodes.delete(nodeRef);\n\n      return;\n    }\n\n    set.delete(component);\n  };\n\n  this.emit = function (nodeRef, callback) {\n    callback(nodeRef, _this.nodes.get(nodeRef));\n  };\n\n  this.nodes = new Map();\n};\n\nexport { NodeRegistry as default };","map":null,"metadata":{},"sourceType":"module"}